# Avancement de la Branche - R√©vision Seeders Production

## Informations de Branche

**Branche actuelle**: feature/seeders-review
**Branche parent**: main
**Cr√©√©e le**: 2025-10-31
**Objectif**: R√©vision compl√®te des seeders de production avec les donn√©es d√©finitives du jeu "√ârosion des √Çmes"

---

## Contexte

Cette branche restructure compl√®tement les seeders pour s√©parer les donn√©es de d√©veloppement (dev) des donn√©es de production (prod), et impl√©mente les vraies donn√©es du jeu post-apocalyptique "√ârosion des √Çmes".

---

## T√¢ches de la Branche

### Restructuration des Seeders
- [x] Cr√©er sous-r√©pertoire `backend/seeders/dev/` pour donn√©es de d√©veloppement
- [x] Cr√©er sous-r√©pertoire `backend/seeders/prod/` pour donn√©es de production
- [x] Migrer anciens seeders d√©mo vers dev/
- [x] Ajouter scripts npm pour seeders dev et prod
- [x] Documenter la nouvelle structure dans README

### Seeders de Production (prod/)

#### Ethnies
- [x] 001-prod-users.js: Seeder vide (utilisateurs cr√©√©s par inscription)
- [x] 002-prod-ethnies.js: 2 ethnies (Les √âveill√©s, Les Inalt√©r√©s)

#### Factions
- [x] 003-prod-factions.js: 2 factions jouables
  - Les √âclaireurs de l'Aube Nouvelle (√âveill√©s)
  - Les Veilleurs de l'Ancien Monde (Inalt√©r√©s)
- [x] Ajout champ `outpost_name` dans migration et mod√®le Faction

#### Clans
- [x] 004-prod-clans.js: 22 clans au total
  - 2 clans leaders (non jouables)
  - 10 clans jouables (5 par faction)
  - 10 clans neutres (non jouables pour le moment)

#### Personnages
- [x] 005-prod-characters.js: 132 personnages PNJ
  - 22 leaders de clans
  - 30 membres clans jouables (3 par clan)
  - 60 membres clans neutres (5 par clan)
  - 10 membres sans clan dans factions (5 par faction)
  - 10 personnages solitaires (5 √âveill√©s, 5 Inalt√©r√©s)

#### Forum
- [x] 006-prod-categories.js: 3 cat√©gories
  - Forum G√©n√©ral
  - Forum HRP (Hors Role-Play)
  - Forum RP (Role-Play)
- [x] 007-prod-sections.js: 9 sections principales
  - 4 sections Forum G√©n√©ral
  - 2 sections Forum HRP
  - 3 sections Forum RP (par faction)
- [x] 008-prod-topics.js: 4 topics
  - Message de bienvenue
  - R√®glement du Forum
  - CGU
  - Pr√©sentation utilisateurs
- [x] 009-prod-posts.js: 1 post (message de bienvenue)

---

## Structure des Donn√©es Production

### Ethnies (2)
1. **Les √âveill√©s** - Mutants avec peau gris√¢tre
2. **Les Inalt√©r√©s** - Humains non mut√©s

### Factions (2)
1. **Les √âclaireurs de l'Aube Nouvelle** (√âveill√©s)
   - Avant-poste: L'Oasis des Transform√©s
   - Id√©ologie: √âvolution divine par mutation, √©radication des non-mutants

2. **Les Veilleurs de l'Ancien Monde** (Inalt√©r√©s)
   - Avant-poste: La Citadelle du Renouveau
   - Id√©ologie: Technologie ancestrale, puret√© humaine, √©radication des mutants

### Clans √âclaireurs (6 clans - 1 leader + 5 jouables)
- **Clan Leader**: Les Proph√®tes de l'Harmonie (non jouable)
- **Jouables**:
  1. La Caste des Symbiotes (Ressources & Adaptation)
  2. La Caste des Sensitifs (Exploration & Perception)
  3. La Caste des Forgerons de Chair (Gu√©rison & √âvolution)
  4. La Caste des Sentinelles du Chaos (D√©fense & Confrontation)
  5. La Caste des Scrutateurs (Connaissance & Myst√®res)

### Clans Veilleurs (6 clans - 1 leader + 5 jouables)
- **Clan Leader**: Les √âlus d'Avant (non jouable)
- **Jouables**:
  1. Le Clan des Sentinelles (D√©fense & Ordre)
  2. Le Clan des Pourvoyeurs (Ressources & Production)
  3. Le Clan des Archivistes (Savoir & Tradition)
  4. Le Clan des Purificateurs (Sant√© & Hygi√®ne)
  5. Le Clan des Explorateurs (Reconnaissance & D√©couverte)

### Clans Neutres (10 clans - tous non jouables pour le moment)
1. Les Veilleurs des Ruines (arch√©ologues impartiaux)
2. Le Peuple des Ombres (mutants furtifs)
3. Les Vagabonds du Vent (marchands nomades)
4. Les Artisans du R√©emploi (r√©parateurs)
5. Les Fr√®res de la Terre Br√ªl√©e (mercenaires)
6. Le Sanctuaire du Silence (pacifistes)
7. Les Collecteurs de Chuchotis (espions)
8. Les Semeurs d'Espoir (r√©conciliation)
9. Les Loups Solitaires (bandits)
10. Les D√©voreurs d'√Çmes (cannibales fanatiques)

### Personnages (132 PNJ)
- 31 personnages faction √âclaireurs (6 + 20 + 5)
- 31 personnages faction Veilleurs (6 + 20 + 5)
- 60 personnages clans neutres (10 clans √ó 6)
- 10 personnages solitaires

### Forum
- 3 cat√©gories
- 9 sections
- 4 topics (1 avec post de bienvenue, 3 vides)

---

## Commits

### Commit 1: feat(seeders): restructuration compl√®te avec s√©paration prod/dev
```
feat(seeders): restructuration compl√®te avec s√©paration prod/dev

- Cr√©ation sous-r√©pertoires backend/seeders/prod/ et backend/seeders/dev/
- Migration anciens seeders d√©mo vers dev/
- Ajout scripts npm: db:seed:prod et db:seed:dev
- Documentation de la nouvelle structure

üìÅ Structure:
  - prod/: donn√©es de production (vraies donn√©es du jeu)
  - dev/: donn√©es de d√©veloppement (donn√©es de test)
```

### Commit 2 (√† venir): feat(seeders): ajout donn√©es production compl√®tes
```
feat(seeders): ajout donn√©es production compl√®tes √ârosion des √Çmes

Ethnies et Factions:
- 2 ethnies: Les √âveill√©s (mutants), Les Inalt√©r√©s (humains purs)
- 2 factions jouables avec avant-postes et id√©ologies
- Ajout champ outpost_name dans migration/mod√®le Faction

Clans:
- 22 clans au total (2 leaders, 10 jouables, 10 neutres)
- 6 clans √âclaireurs (ressources, exploration, gu√©rison, d√©fense, archives)
- 6 clans Veilleurs (d√©fense, production, savoir, sant√©, exploration)
- 10 clans neutres (marchands, mercenaires, pacifistes, bandits, etc.)

Personnages:
- 132 PNJ avec noms et descriptions d√©taill√©es
- 1 leader par clan (22 leaders)
- 3 membres par clan jouable (30 personnages)
- 5 membres par clan neutre (60 personnages)
- 5 membres sans clan par faction (10 personnages)
- 10 personnages solitaires (5 par ethnie)

Forum:
- 3 cat√©gories (G√©n√©ral, HRP, RP)
- 9 sections principales (4 G√©n√©ral, 2 HRP, 3 RP par faction)
- 4 topics (bienvenue, r√®glement, CGU, pr√©sentation)
- 1 post de bienvenue avec markdown

üéÆ Toutes les donn√©es refl√®tent l'univers post-apocalyptique du jeu
üìù Descriptions d√©taill√©es pour chaque entit√©
```

---

## Fichiers Modifi√©s/Cr√©√©s

### Structure
- backend/seeders/dev/ (nouveau r√©pertoire)
- backend/seeders/prod/ (nouveau r√©pertoire)

### Migrations
- backend/migrations/004-create-factions.js (ajout outpost_name)

### Mod√®les
- backend/src/models/Faction.js (ajout outpost_name)

### Seeders Production (nouveau)
- backend/seeders/prod/001-prod-users.js
- backend/seeders/prod/002-prod-ethnies.js
- backend/seeders/prod/003-prod-factions.js
- backend/seeders/prod/004-prod-clans.js
- backend/seeders/prod/005-prod-characters.js
- backend/seeders/prod/006-prod-categories.js
- backend/seeders/prod/007-prod-sections.js
- backend/seeders/prod/008-prod-topics.js
- backend/seeders/prod/009-prod-posts.js

### Seeders Dev (d√©plac√©s)
- backend/seeders/dev/001-demo-users.js
- backend/seeders/dev/002-demo-ethnies.js
- backend/seeders/dev/003-demo-factions.js
- backend/seeders/dev/004-demo-clans.js
- backend/seeders/dev/005-demo-characters.js
- backend/seeders/dev/006-demo-categories.js
- backend/seeders/dev/007-demo-sections.js
- backend/seeders/dev/008-demo-topics.js
- backend/seeders/dev/009-demo-posts.js

### Configuration
- backend/package.json (ajout scripts db:seed:prod, db:seed:dev)

### Documentation
- docs/progress/branch-seeders-review.md (nouveau)
- backend/seeders/README.md (mise √† jour structure)

---

## Scripts NPM Ajout√©s

```bash
# Seeders de production
npm run db:seed:prod           # Ex√©cuter tous les seeders prod
npm run db:seed:prod:undo      # Annuler tous les seeders prod

# Seeders de d√©veloppement
npm run db:seed:dev            # Ex√©cuter tous les seeders dev
npm run db:seed:dev:undo       # Annuler tous les seeders dev
```

---

## Tests Effectu√©s

### Test 1: Migration avec nouveau champ outpost_name
```bash
npm run db:migrate:undo
npm run db:migrate
```
‚úì **R√©sultat**: Migration s'ex√©cute sans erreur, champ ajout√©

### Test 2: Seeders production
```bash
npm run db:seed:prod
```
‚úì **R√©sultat**: Tous les seeders prod s'ex√©cutent sans erreur
‚úì **Donn√©es**: 2 ethnies, 2 factions, 22 clans, 132 characters, 3 categories, 9 sections, 4 topics, 1 post

---

## √âtat Actuel

### ‚úÖ Compl√©t√©
- [x] Restructuration r√©pertoires seeders (prod/dev)
- [x] Scripts npm pour seeders s√©par√©s
- [x] Ajout champ outpost_name aux factions
- [x] Seeders prod: ethnies, factions, clans, characters
- [x] Seeders prod: categories, sections, topics, posts
- [x] Documentation compl√®te
- [x] Tests de tous les seeders prod

### üìã Prochaine Action
1. **Commit et push** des modifications
2. Tester en environnement complet
3. Merger vers main

---

## Notes Techniques

### D√©cisions de Conception

**1. S√©paration prod/dev**
- √âvite la confusion entre donn√©es de test et donn√©es r√©elles
- Permet d'ex√©cuter s√©par√©ment les environnements
- Facilite le d√©ploiement en production

**2. Champ outpost_name dans Faction**
- Stocke le nom de l'avant-poste principal
- Permet l'affichage sans d√©pendre du clan principal
- Coh√©rent avec l'univers du jeu

**3. Personnages PNJ d√©taill√©s**
- Chaque clan a ses leaders et membres nomm√©s
- Descriptions riches pour le roleplay
- Base solide pour interactions futures

**4. Forum structur√© par faction**
- Sections RP s√©par√©es par faction
- Permet gestion permissions futures
- Structure √©volutive pour sous-sections

---

**Derni√®re mise √† jour**: 2025-10-31
**Statut**: ‚úÖ Seeders production compl√©t√©s - Pr√™t pour commit et push
